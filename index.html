<!DOCTYPE html>
<html lang="en">
<head>
    <title>Password Generator v1.0</title>

    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';"/>

    <link rel="stylesheet" type="text/css" href="index.css"/>
</head>

<body>
<form class="login-wrap">
    <h2>Password Generator v1.0</h2>
    <div class="form">

        <input type="text" id="password" placeholder="Generated Password"/>


        <div class="rangeLegend">Length: <span id="rangeValue" class="rangeValue">12</span></div>
        <input id="length" type="range" min="3" max="20" step="1" value="12"/>

        <div>
            <div class="checkbox">
                <label>Use Letters (A-Za-z)</label>
                <input class='toggle' type="checkbox" checked='checked' id="useLetters"/>
            </div>
            <div class="checkbox">
                <label>Use Digits (0-9)</label>
                <input class='toggle' type="checkbox" checked='checked' id="useDigits"/>
            </div>
            <div class="checkbox">
                <label>Use Symbols (+-_!)</label>
                <input class='toggle' type="checkbox" id="useSymbols"/>
            </div>
        </div>

        <div>
            <button id="submit" type="button">Generate!</button>
        </div>
    </div>
</form>

<script>
    window.SCRIPT_CONST = {
        alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
        digits: "0123456789",
        symbols: "+-_!",
    };

    document.getElementById("length").addEventListener("input", (event) => {
        document.getElementById("rangeValue").innerHTML = event.currentTarget.value;
    });

    document.getElementById("submit").addEventListener("click", (event) => {
        let characters = '';
        if (document.getElementById("useLetters").checked) {
            characters += window.SCRIPT_CONST.alphabet;
        }

        if (document.getElementById("useDigits").checked) {
            characters += window.SCRIPT_CONST.digits;
        }

        if (document.getElementById("useSymbols").checked) {
            characters += window.SCRIPT_CONST.symbols;
        }

        let charactersLength = characters.length;
        if (charactersLength === 0) {
            return;
        }

        let result = '';
        let count = +document.getElementById("length").value;
        for (let i = 0; i < count; i++) {
            result += characters.charAt(Math.floor(Math.random() * charactersLength));
        }
        document.getElementById("password").value = result;
    })
</script>
</body>
</html>
